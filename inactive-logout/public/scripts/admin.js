(()=>{"use strict";var e,t,n,o,r,a,i,l,c,u,s,d,g,f,p,m,h,y,v,_,w,E,b,k,S=(e=document.querySelector("#ina_show_warn_message_only"),t=document.querySelectorAll(".show_on_warn_message_enabled"),n=document.querySelectorAll(".ina-hide-section"),o=document.querySelector("#ina_enable_redirect_link"),r=document.querySelectorAll(".show_on_enable_redirect_link"),a=document.querySelector(".ina_redirect_page"),i=document.getElementById("ina-reset-adv-data"),l=document.getElementById("ina-logout-like-dismiss"),c=document.getElementById("ina-settings-form"),u=document.getElementById("ina_enable_different_role_timeout"),s=document.querySelector(".ina-idle-timeout-input"),d=document.getElementById("ina-toast"),g=document.getElementById("wpfooter"),f=document.querySelector(".ina-settings-header"),p=document.querySelector(".ina-settings-nav-wrapper"),m=document.querySelector(".ina-trigger-front-toast-notification"),h=function(){var e=new FormData;e.append("action","ina_trigger_demo_toast"),fetch(ajaxurl,{method:"POST",body:e}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){if(e){var t=document.querySelector(".ina-logout-modal-container");if(t){t.insertAdjacentHTML("afterend",'<div class="ina-toaster-admin">'.concat(e,"</div>"));var n=t.nextElementSibling;if(n){var o=n.querySelector(".ina-logout-toast__close");o&&o.addEventListener("click",(function(){n.remove()}))}}else console.warn("Logout modal container not found")}})).catch((function(e){console.error("Error triggering demo toast:",e)}))},y=function(e){e.currentTarget.value>1440&&(e.currentTarget.value=1440)},v=function(e){var t=document.querySelectorAll(".ina-multi-role-table");!0===e.target.checked?t.forEach((function(e){e.style.display="table-row"})):t.forEach((function(e){e.style.display="none"}))},_=function(e){e.preventDefault(),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var t=document.getElementById("ina-settings-save");t.setAttribute("disabled","disabled");var n=t.value;t.value=t.dataset.loading;var o=new FormData(e.target);o.append("action","ina_save_settings"),fetch(ajaxurl,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){t.removeAttribute("disabled"),t.value=n,location.reload()}))},w=function(e){e.preventDefault(),fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:"action=ina_dismiss_like_notice"}).then((function(){document.querySelector(".ina-logout-like-dismiss-wrapper").remove()}))},E=function(e){if(e.preventDefault(),!confirm(e.target.getAttribute("data-msg")))return!1;fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:"action=ina_reset_adv_settings&security="+inactive_logout.security}).then((function(e){return e.json()})).then((function(e){location.reload()}))},b=function(e){e.target.checked?(r.forEach((function(e){e.style.display="table-row"})),"custom-page-redirect"===a.value&&(document.getElementById("show_if_custom_redirect").style.display="inline")):r.forEach((function(e){e.style.display="none"}))},k=function(e){e.target.checked?(n.forEach((function(e){e.style.display="none"})),t.forEach((function(e){e.style.display="table-row"}))):(n.forEach((function(e){e.style.display="table-row"})),t.forEach((function(e){e.style.display="none"})))},{init:function(){null!==e&&e.addEventListener("click",k),null!==o&&o.addEventListener("click",b),null!==i&&i.addEventListener("click",E),null!==l&&l.addEventListener("click",w),null!==c&&c.addEventListener("submit",_),null!==u&&u.addEventListener("click",v),null!==s&&s.addEventListener("change",y),null!==m&&m.addEventListener("click",h),null!=d&&setTimeout((function(){d.remove()}),3e3),setTimeout((function(){null!==(null==f?void 0:f.clientHeight)&&(null==f?void 0:f.clientHeight)>=100&&(p.style.marginTop=f.clientHeight+50+"px")}),100),null!=g&&(g.innerHTML='<p id="footer-left" class="alignleft">Please rate <strong>Inactive Logout</strong> <a href="https://wordpress.org/support/plugin/inactive-logout/reviews/?filter=5#new-post" target="_blank" title="Give us a 5-star rating!">★★★★★</a> on <a href="https://wordpress.org/support/plugin/inactive-logout/reviews/?filter=5#new-post" target="_blank" title="Give us a 5-star rating!">WordPress.org</a> to help us spread the word. Thank you!</p><p class="alignright">WordPress '.concat(inactive_logout.wp_version," | Inactive Logout ").concat(inactive_logout.ina_version,"</p>"))}});document.addEventListener("DOMContentLoaded",S.init),jQuery((function(e){({isHttpValid:function(e){try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}},init:function(){var t=this,n=e(".ina-select2-container-with-tags"),o=e(".ina_redirect_page");if(o.length>0){var r=o.data("external-redirect-text");o.select2({placeholder:'Search by page name or "External page redirect"...',allowClear:!0,ajax:{url:ajaxurl,dataType:"json",delay:250,data:function(e){return{q:e.term,action:"ina_get_post_types_for_redirection"}},processResults:function(e){return e.push({text:r,id:"custom-page-redirect"}),{results:e}},cache:!0},minimumInputLength:2})}n.length>0&&n.select2({tags:!0,placeholder:"Add url or search by page name...",allowClear:!0,ajax:{url:ajaxurl,dataType:"json",delay:250,data:function(e){return{q:e.term,action:"ina_get_pages_for_redirection"}},processResults:function(e){return{results:e}},cache:!0},minimumInputLength:2}).on("select2:close",(function(o){if(!t.isHttpValid(o.currentTarget.value)){e(o.currentTarget).val(null).trigger("change").next().find(".select2-selection").css("border-color","red");var r=e(n).data("validation");null!=r&&e(o.currentTarget).next().find(".select2-selection__placeholder").text(r)}}))}}).init()}))})();